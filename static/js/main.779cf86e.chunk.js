(this["webpackJsonpmy-time"]=this["webpackJsonpmy-time"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var s=n(0),o=n.n(s),r=n(4),i=n.n(r);n(13),n(14);class a{static adjustBase(e,t){return{numberOfBases:Math.floor(e/t),adjustedNumber:e%t}}static convertHour(e){const t=Math.floor(e),n=60*(e-t),s=Math.floor(n);return{hours:t,mins:s,seconds:Math.round(60*(n-s))}}static parse(e){const t=e.split(":");let n,s,o=Number(t[0]),r=0;return 3===t.length?(n=Number(t[1]),r=Number(t[2].split(" ")[0]),s=t[2].split(" ")[1]):(n=Number(t[1].split(" ")[0]),s=t[1].split(" ")[1]),"PM"===s&&(o+=12),{hours:o,mins:n,seconds:r}}constructor(e){let t,n,s;if(this.toHours=()=>{const e=this.getHours();let t=this.getMinutes();return t+=this.getSeconds()/60,e+t/60},this.toTimeString=()=>{const e=this.hours,t="00".substring(0,2-this.mins.toString().length)+this.mins,n="00".substring(0,2-this.seconds.toString().length)+this.seconds;return e>12?`${e-12}:${t}:${n} PM`:`${e}:${t}:${n} AM`},this.toTwentyFourHourTime=()=>`${this.hours}:${"00".substring(0,2-this.mins.toString().length)+this.mins}:${"00".substring(0,2-this.seconds.toString().length)+this.seconds}`,"string"===typeof e)({hours:t,mins:n,seconds:s}=a.parse(e));else{if("number"!==typeof e){const e=new Date;return{hours:e.getHours(),mins:e.getMinutes(),seconds:e.getSeconds()}}({hours:t,mins:n,seconds:s}=a.convertHour(e))}this.hours=t,this.mins=n,this.seconds=s}addSeconds(e){const t=a.adjustBase(e,60);let n=this.seconds+t.adjustedNumber,s=this.mins+t.numberOfBases,o=this.hours;if(n>=60){const e=a.adjustBase(n,60);n=e.adjustedNumber,s+=e.numberOfBases}if(s>=60){const e=a.adjustBase(s,60);s=e.adjustedNumber,o+=e.numberOfBases}if(o>24){o=a.adjustBase(o,24).adjustedNumber}this.hours=o,this.mins=s,this.seconds=n}addMinutes(e){const t=Math.floor(e/60),n=e%60;let s=this.hours+t,o=this.mins+n;if(o>=60){const e=a.adjustBase(o,60);o=e.adjustedNumber,s+=e.numberOfBases}if(s>24){s=a.adjustBase(s,24).adjustedNumber}this.hours=s,this.mins=o}getHours(){return this.hours}getMinutes(){return this.mins}getSeconds(){return this.seconds}}var c=a;const u=e=>{const t=new Date,n=`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${e} UTC`;return new Date(Date.parse(n))},l=(e,t)=>12/(t-e),h=(e,t,n,s,o,r,i)=>{let a;return a=e>n?i*e+r-24:e<t?i*e:s*e+o,a},d=e=>{const t=e.getHours();let n=e.getMinutes();return n+=e.getSeconds()/60,t+n/60},m=(e,t)=>{const n=d(new Date);let s;const o=[],r=[],i=l(t,24+e),a=42-i*t,u=l(e,t),m=18-u*t;for(let c=0;c<=24;c++){o.push(c);const n=h(c,e,t,u,m,a,i);r.push(n)}const g=h(n,e,t,u,m,a,i);let f;return n>=e&&n<=t?(s=u,f=m):n<e?(s=i,f=0):(s=i,f=a),{adjustedTime:new c(g).toTimeString(),slope:s,intercept:f,isTomorrow:g>24,yValues:r,xValues:o}};var g=n(1),f=n.n(g);const p=[];for(let D=90;D<=270;D++)p.push(D);const b=[];for(let D=-90;D<=90;D++)b.push(D);const w=[];for(let D=0;D<=360;D++)w.push(D);const j=e=>e*Math.PI/180,v=e=>Math.cos(j(e))<=0,y=e=>{const t=["#ae4612","#bb3e03","#ca6702","#EE9B00","#E9D8A6"],n=(e=>{const t=j(e),n=Math.abs(-4*Math.cos(t));return Math.floor(n)})(e);return v(e)?t[n]:["#94d2bd","#0a9396","#0a6a96","#023e4b","#001219"][n]};const M=e=>function(e){return(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(e.getFullYear(),0,0))/24/60/60/1e3}(new Date(e))/365.25*360,E=e=>` ${e.year}, ${e.month}, ${e.day}`,S=(e,t,n)=>{if(!n.length||!t)return[];const s=M(new Date),o=M(t)-270,r=(e-30)/Math.cos(j(s-o));return[...n.map(E).map((e,t)=>({radius:((e,t,n)=>e*Math.cos(j(n-t))+30)(r,o,M(e)),name:n[t].phenom})).sort((e,t)=>e.radius-t.radius)]};var O=function(e){var t;let{y:n,currentTime:r,height:i,width:a,time:c,seasons:u}=e;const l=n.map(e=>e/24*360),h=l.filter(v),d=h[1]-h[0],m=l.filter(e=>-1===h.indexOf(e)),g=(m[1]-m[0])/d,j=30-30*(1-g)/(g+1),M=30+30*(1-g)/(g+1),O=Object(s.useMemo)(()=>u.length?E(u.filter(e=>"Equinox"===e.phenom)[1]):null,[u]),k=Object(s.useMemo)(()=>u.length?u.filter(e=>"Solstice"===e.phenom):[],[u]),$=Object(s.useMemo)(()=>O&&k.length?S(j,O,k):[],[j,O,k]);return $.length&&o.a.createElement("div",null,o.a.createElement(f.a,{data:[{r:b.map(e=>30),theta:b,type:"scatterpolar",mode:"line",line:{color:"#93865f",width:1},name:"EquiLux circle",hovertext:"EquiLux circle",hoverinfo:"name"},{r:b.map(e=>M),theta:b,type:"scatterpolar",mode:"line",fill:"tonext",line:{color:"#0A9396",width:4},name:"Dark time",hoverinfo:"name"},{r:p.map(e=>30),theta:p,type:"scatterpolar",mode:"line",line:{color:"#93865f",width:1},name:"EquiLux circle",hoverinfo:"name"},{r:p.map(e=>j),theta:p,type:"scatterpolar",mode:"line",fill:"tonext",line:{color:"#EE9B00",width:4},name:"Light time",hoverinfo:"name"},{r:w.map(e=>10),theta:w,type:"scatterpolar",mode:"line",fill:"toself",fillcolor:y(r.y/24*360),line:{color:y(r.y/24*360)},hoverinfo:"skip"},{r:[0,v(r.y/24*360)?j:M],theta:[0,r.y/24*360],type:"scatterpolar",mode:"marker",marker:{color:y(r.y/24*360),size:8},line:{width:4},hoverinfo:"skip"}],layout:{modebar:{remove:["lasso","zoom","select"]},annotations:[{text:c,font:{color:"white"},showarrow:!1}],showlegend:!1,width:a,height:i,paper_bgcolor:"#282c34",polar:{width:window.innerWidth,bgcolor:"#282c34",radialaxis:{range:[1,(null===(t=$[$.length-1])||void 0===t?void 0:t.radius)+5],showgrid:!0,showline:!1,showticklabels:!0,tickmode:"array",tickvals:$.map(e=>e.radius),ticks:"",ticktext:$.map(e=>e.name),tickcolor:"#b6bac2",gridcolor:"#6e6e6e",layer:"below traces",tickangle:45,tickfont:{color:"#b6bac2"}},angularaxis:{direction:"clockwise",gridwidth:.1,linecolor:"#83898b",tickcolor:"#83898b",period:8,rotation:270,tickmode:"array",tickvals:[0,45,90,135,180,225,270,315],ticktext:["midnight","3 am","6 am","9 am","noon","3 pm","6 pm","9 pm"],color:"#b6bac2",layer:"below traces"}}}}))};var k=function(e){let{height:t,width:n,setRequesting:r,location:i}=e;const a={time:0,slope:1,intercept:0},[l,h]=Object(s.useState)({sunrise:0,sunset:0}),[g,f]=Object(s.useState)(a),[p,b]=Object(s.useState)(0),[w,j]=Object(s.useState)([]);Object(s.useEffect)(()=>{fetch("https://aa.usno.navy.mil/api/seasons?year="+(new Date).getFullYear()).then(e=>e.json()).then(e=>{j(e.data)})},[]),Object(s.useEffect)(()=>{0!==i.lat&&0!==i.lng&&(r(!0),fetch(`https://api.sunrise-sunset.org/json?lat=${i.lat}&lng=${i.lng}`).then((function(e){return r(!1),e.json()})).then(e=>{const t=u(e.results.sunrise),n=u(e.results.sunset);h({sunrise:d(t),sunset:d(n)})}).catch(console.log))},[i,r]),Object(s.useEffect)(()=>{if(!l.sunrise)return;const{adjustedTime:e,slope:t,intercept:n}=m(l.sunrise,l.sunset),s=new c(e);f({slope:t,intercept:n}),b(s.toTimeString())},[l]),Object(s.useEffect)(()=>{if(!p)return;const{slope:e}=g,t=new c(p).getHours(),n=setInterval(()=>{const e=new c(p);if(e.addSeconds(1),t<6&&e.getHours()>6)return f(a);b(e.toTimeString())},1e3/e);return function(){clearInterval(n)}},[p,g]);const{xValues:v,yValues:y}=m(l.sunrise,l.sunset);return i?o.a.createElement("div",null,o.a.createElement(O,{width:n,height:t,y:y,seasons:w,time:p||"Loading...",currentTime:{x:d(new Date),y:new c(p).toHours()}}),!1):o.a.createElement("div",null,"Location services need to be turned on for the clock to run")};function $(){const[e,t]=Object(s.useState)(x()),[n,r]=Object(s.useState)({lat:0,lng:0}),[i,a]=Object(s.useState)(!1);Object(s.useEffect)(()=>{function e(){t(x())}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);return navigator.geolocation.watchPosition(e=>{if(i)return;const t=e.coords;(Math.abs(t.latitude-n.lat)>10||Math.abs(t.longitude-n.lng)>10)&&r({lat:t.latitude,lng:t.longitude})},(function(e){console.error(`ERROR(${e.code}): ${e.message}`)}),{enableHighAccuracy:!1,maximumAge:1e5}),o.a.createElement("div",{className:"App",style:{width:e.innerWidth,height:e.innerHeight}},o.a.createElement(k,{width:e.innerWidth,height:e.innerHeight,location:n,setRequesting:a}))}function x(){const{innerWidth:e,innerHeight:t}=window;return{innerWidth:e,innerHeight:t}}var B=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then(t=>{let{getCLS:n,getFID:s,getFCP:o,getLCP:r,getTTFB:i}=t;n(e),s(e),o(e),r(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement($,null))),B()},5:function(e,t,n){e.exports=n(20)}},[[5,1,2]]]);
//# sourceMappingURL=main.779cf86e.chunk.js.map